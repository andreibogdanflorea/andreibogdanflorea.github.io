---
import { cn } from '@/utils'

const { class: className, title, id } = Astro.props
---

<section
  id={id}
  class={cn(
    className,
    'flex flex-col items-center text-center gap-y-6 px-4 md:px-0 max-w-4xl mx-auto timeline-section-stagger'
  )}
>
  <div class="w-full border-t border-border pt-5 -mx-4 md:mx-0 timeline-section-item"></div>
  <div class="text-2xl md:text-3xl font-semibold w-full timeline-section-item">
    <h2>{title}</h2>
  </div>
  <div class="w-full md:w-3/4 text-base md:text-lg leading-relaxed timeline-section-item">
    <!-- Timeline container with flexbox layout -->
    <div class="relative">
      <!-- Continuous timeline line spanning all items -->
      <div class="absolute left-6 md:left-8 top-3 bottom-3 w-0.5 bg-border z-0 timeline-line"></div>
      
      <!-- Timeline items using flexbox for better control -->
      <div class="space-y-6">
        <slot />
      </div>
    </div>
  </div>
</section>

<style>
  /* Ensure timeline cards don't have conflicting styles */
  :global(.timeline-card) {
    @apply relative;
  }
</style>
